# =============================================================================
# Orion Sentinel HA DNS - Environment Configuration
# =============================================================================
# Copy this file to .env and configure for your network
# For two-node HA, see .env.primary.example and .env.secondary.example
# =============================================================================

# =============================================================================
# REQUIRED - Must be configured
# =============================================================================

# Pi-hole web interface password
# Generate with: openssl rand -base64 32
PIHOLE_PASSWORD=CHANGE_ME_REQUIRED

# VRRP authentication password (must be same on both nodes)
# Generate with: openssl rand -base64 12
VRRP_PASSWORD=CHANGE_ME_REQUIRED

# Virtual IP address - floats between nodes, clients use this for DNS
# Must be unused IP on your network
VIP_ADDRESS=192.168.8.250

# =============================================================================
# NETWORK CONFIGURATION
# =============================================================================

# Network interface for VIP (where the virtual IP will be assigned)
# Common: eth0 (most systems), eth1 (secondary NIC), end0 (some Raspberry Pi)
NETWORK_INTERFACE=eth1

# VIP netmask (typically 24 for /24 networks)
VIP_NETMASK=24

# Timezone
TZ=Europe/London

# =============================================================================
# HA CONFIGURATION (for two-node setup)
# =============================================================================

# Node role: MASTER or BACKUP
# Primary node should use MASTER, secondary should use BACKUP
NODE_ROLE=MASTER

# Keepalived priority (higher = preferred MASTER)
# Recommended: Primary=200, Secondary=150
KEEPALIVED_PRIORITY=200

# Virtual router ID (1-255, must be same on both nodes, unique on LAN)
VIRTUAL_ROUTER_ID=51

# Peer IP for unicast VRRP (IP of the other node)
# Leave empty if using multicast VRRP
PEER_IP=

# Use unicast VRRP instead of multicast (recommended for most setups)
USE_UNICAST_VRRP=true

# =============================================================================
# DNS FEATURES (mpgirro/docker-pihole-unbound)
# =============================================================================

# DNS over TLS to Quad9 (privacy-focused DNS)
DOT_ENABLED=true
DOT_UPSTREAM=9.9.9.9@853#dns.quad9.net

# Redis caching for sub-millisecond DNS responses
REDIS_ENABLED=true

# DNSSEC validation
DNSSEC=true

# IPv6 support (disable if not needed)
IPV6=false

# Pi-hole theme
PIHOLE_THEME=default-dark

# =============================================================================
# MONITORING INTEGRATION (CoreServices/SPoG)
# =============================================================================
# Enable with: docker compose --profile exporters up -d

# Loki URL for log shipping (SPoG/CoreServices integration)
# Example: http://192.168.8.100:3100/loki/api/v1/push
LOKI_URL=

# Node identifier for metrics/logs
NODE_NAME=orion-dns
