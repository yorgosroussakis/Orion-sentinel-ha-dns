# DNS Privacy and Security Profiles

name: family
description: Family-friendly DNS with ad-blocking, malware protection, and adult content filtering
category: family-safe

# Ad and tracker blocklists
blocklists:
  # Core ad blocking (from standard profile)
  - name: StevenBlack Unified
    url: https://raw.githubusercontent.com/StevenBlack/hosts/master/hosts
    enabled: true
    description: Comprehensive ad and malware blocking
  
  - name: AdGuard DNS Filter
    url: https://adguardteam.github.io/AdGuardSDNSFilter/Filters/filter.txt
    enabled: true
    description: General purpose ad blocking
  
  # Enhanced malware protection
  - name: Malware Domain List
    url: https://www.malwaredomainlist.com/hostslist/hosts.txt
    enabled: true
    description: Known malware domains
  
  - name: Phishing Army
    url: https://phishing.army/download/phishing_army_blocklist_extended.txt
    enabled: true
    description: Phishing and malicious sites
  
  - name: URLhaus Malware
    url: https://urlhaus.abuse.ch/downloads/hostfile/
    enabled: true
    description: Malware distribution sites
  
  # Adult content filtering
  - name: AdGuard DNS Family Protection
    url: https://adguardteam.github.io/AdGuardSDNSFilter/Filters/adguard_popup_filter.txt
    enabled: true
    description: Blocks adult content and popups
  
  - name: StevenBlack Fakenews + Gambling + Porn
    url: https://raw.githubusercontent.com/StevenBlack/hosts/master/alternates/fakenews-gambling-porn/hosts
    enabled: true
    description: Blocks adult content, gambling, and fake news sites
  
  # Social media tracking
  - name: EasyPrivacy
    url: https://v.firebog.net/hosts/Easyprivacy.txt
    enabled: true
    description: Web tracking protection
  
  # Additional protection for children
  - name: Suspicious Lists
    url: https://raw.githubusercontent.com/PolishFiltersTeam/KADhosts/master/KADhosts.txt
    enabled: true
    description: Additional malicious domain protection

# Pi-hole settings
settings:
  dns_over_https: false
  dnssec: true
  
  # Enhanced privacy for family
  query_logging: true
  privacy_level: 1  # Hide domains, show clients (so parents can see what devices are used)
  
  cache_size: 10000
  blocking_mode: "NULL"
  
  conditional_forwarding:
    enabled: true
    domain: "lan"

# Whitelisted domains (essential services only)
whitelist:
  - name: "Educational Services"
    domains:
      - "classroom.google.com"
      - "*.edu"
      - "khanacademy.org"
    reason: "Required for online learning"
  
  - name: "Safe Streaming"
    domains:
      - "disney.com"
      - "disneyplus.com"
      - "netflix.com"
    reason: "Family-friendly streaming services"
  
  - name: "Microsoft Services"
    domains:
      - "teams.microsoft.com"
      - "update.microsoft.com"
      - "office.com"
    reason: "Required for school/work"
  
  - name: "Apple Services"
    domains:
      - "ocsp.apple.com"
      - "apple.com"
    reason: "Required for Apple devices"
  
  - name: "Gaming Consoles"
    domains:
      - "xbox.com"
      - "xboxlive.com"
      - "playstation.com"
    reason: "Console updates and online play"

# Regex blocking patterns
regex_patterns:
  - pattern: "^(.+[_.-])?ad[sxv]?[0-9]*[_.-]"
    description: "Block common ad subdomains"
    enabled: true
  
  - pattern: "^(.+[_.-])?telemetry[_.-]"
    description: "Block telemetry domains"
    enabled: true
  
  # Block some social media tracking
  - pattern: "(^|\\.)facebook\\.com$"
    description: "Block Facebook tracking (not the main site, just tracking)"
    enabled: false  # Set to true if you want to block Facebook entirely

# Additional parental controls
parental_controls:
  # Time-based restrictions (requires additional setup)
  time_restrictions:
    enabled: false  # TODO: Implement via separate cron/script
    rules:
      - name: "School hours gaming block"
        schedule: "Mon-Fri 08:00-15:00"
        blocked_categories: ["gaming", "social-media"]
  
  # Device-specific rules (requires Pi-hole groups)
  device_rules:
    enabled: false  # TODO: Set up via Pi-hole groups
    examples:
      - device: "Kids-iPad"
        profile: "strict"
      - device: "Living-Room-TV"
        profile: "moderate"

# Groups for different protection levels
groups:
  family_default:
    enabled: true
    description: "Family-safe browsing for all devices"
  
  kids_devices:
    enabled: true
    description: "Enhanced protection for children's devices"
    additional_lists:
      - "https://raw.githubusercontent.com/chadmayfield/my-pihole-blocklists/master/lists/pi_blocklist_porn_top1m.list"
