# CrowdSec Environment Configuration

# ==============================================================================
# REQUIRED: Bouncer API Keys
# ==============================================================================
# Generate these with: docker exec crowdsec cscli bouncers add <name>
# Or use the setup script: bash setup-crowdsec.sh

# Firewall bouncer key (protects all network traffic)
CROWDSEC_BOUNCER_KEY_FIREWALL=CHANGE_ME_GENERATE_WITH_CSCLI

# Nginx bouncer key (optional, for protecting web services)
# CROWDSEC_BOUNCER_KEY_NGINX=CHANGE_ME_GENERATE_WITH_CSCLI

# ==============================================================================
# OPTIONAL: CrowdSec Console Enrollment
# ==============================================================================
# Sign up at https://app.crowdsec.net/ to get these
# Benefits: Access to console dashboard, premium blocklists, analytics

# Enrollment key from CrowdSec Console
# CROWDSEC_ENROLL_KEY=

# Instance name (will appear in CrowdSec Console)
CROWDSEC_INSTANCE_NAME=rpi-ha-dns-stack

# Tags for organization (comma-separated)
CROWDSEC_TAGS=raspberry-pi,dns,pihole,home-lab

# ==============================================================================
# OPTIONAL: Advanced Configuration
# ==============================================================================

# Enable debug logging (useful for troubleshooting)
# CROWDSEC_DEBUG=false

# Custom scenarios (in addition to collections)
# CROWDSEC_CUSTOM_SCENARIOS=

# Disable specific scenarios
# CROWDSEC_DISABLE_SCENARIOS=

# ==============================================================================
# INTEGRATION SETTINGS
# ==============================================================================

# Prometheus metrics endpoint (enabled by default on port 6060)
CROWDSEC_PROMETHEUS_ENABLED=true

# Log level (trace, debug, info, warning, error, fatal)
CROWDSEC_LOG_LEVEL=info

# ==============================================================================
# NOTES
# ==============================================================================
# 
# 1. After first deployment, generate bouncer keys:
#    docker exec crowdsec cscli bouncers add firewall-bouncer
#    docker exec crowdsec cscli bouncers add nginx-bouncer
#
# 2. Update this file with the generated keys
#
# 3. Restart the stack:
#    docker compose restart crowdsec-firewall-bouncer
#
# 4. Check status:
#    docker exec crowdsec cscli metrics
#    docker exec crowdsec cscli decisions list
#
# 5. Optional: Enroll in CrowdSec Console for advanced features:
#    - Sign up at https://app.crowdsec.net/
#    - Get your enrollment key
#    - Add it to CROWDSEC_ENROLL_KEY above
#    - Restart: docker compose restart crowdsec
#
