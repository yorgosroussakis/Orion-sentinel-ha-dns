# Split Tunnel VPN Configuration
# Only routes local network traffic through VPN

# ===============================================
# WireGuard Configuration
# ===============================================

# Your public IP or DDNS hostname
WG_SERVER_URL=home.example.com  # Change this!

# WireGuard server port
WG_SERVER_PORT=51820

# Number of peer configurations to generate
WG_PEERS=3

# DNS server for VPN clients (use Pi-hole)
WG_PEER_DNS=192.168.8.251

# Internal VPN subnet
WG_INTERNAL_SUBNET=10.13.13.0

# Route ONLY local network traffic through VPN (192.168.8.0/24)
WG_ALLOWED_IPS=192.168.8.0/24,10.13.13.0/24

# Log peer configurations
WG_LOG_CONFS=true

# ===============================================
# WireGuard-UI Configuration
# ===============================================

WGUI_USERNAME=admin
WGUI_PASSWORD=<generate-with-openssl-rand-base64-32>
WGUI_SESSION_SECRET=<generate-with-openssl-rand-base64-32>
WGUI_MTU=1420
WGUI_PERSISTENT_KEEPALIVE=25
WGUI_FORWARD_MARK=0xca6c

# ===============================================
# Use Case: Split Tunnel (RECOMMENDED)
# ===============================================
#
# What this does:
# - Only local network traffic (192.168.8.0/24) goes through VPN
# - Internet traffic uses your normal connection
# - DNS queries still go through Pi-hole (ad-blocking)
# - Access to all home services
#
# Best for:
# - Most users (best performance vs functionality balance)
# - Accessing home services (media servers, NAS, etc.)
# - Lower battery usage on mobile
# - Better performance for general internet browsing
#
# Configuration in WireGuard-UI:
# When creating a new peer, use:
#   AllowedIPs: 192.168.8.0/24, 10.13.13.0/24
#   DNS: 192.168.8.251
#
# What you can access:
# - Home services: http://192.168.8.x
# - Pi-hole admin: http://192.168.8.251/admin
# - Grafana: http://192.168.8.250:3000
# - Any service on 192.168.8.0/24 network
#
# What remains local:
# - Internet browsing (direct connection)
# - Streaming services (Netflix, YouTube, etc.)
# - Online gaming
#
# Performance considerations:
# - Much better than full tunnel
# - Only home traffic affected by upload speed
# - Lower latency for internet access
# - Better battery life on mobile
#
# To apply:
# 1. Copy these settings to your .env file
# 2. Run: docker compose -f stacks/vpn/docker-compose.yml up -d
# 3. Create peers in WireGuard-UI with AllowedIPs=192.168.8.0/24,10.13.13.0/24
